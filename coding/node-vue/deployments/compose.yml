---
services:
  frontend:
    build:
      context: ..
      dockerfile: deployments/Dockerfile
      target: dev
      args:
        IMAGE_REGISTRY: ${IMAGE_REGISTRY:-}
        NODE_VERSION: ${NODE_VERSION:-}
    ports: [5173:5173]
    environment: [NODE_ENV=development]
    develop:
      watch:
        - action: sync
          path: ./src
          target: /app/src
          ignore: [node_modules/]
        - action: rebuild
          path: pnpm-lock.yaml
